<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Transportation Methods for Econometrics">
    <meta name="author" content="Keith O'Hara">

    <meta name="keywords" content="Economics, PhD student, NYU, New York University, Econometrics, R, C++, Cpp, Research" />

    <link rel="shortcut icon" type="image/x-icon" href="siteicon.ico">

    <title>Transportation Methods for Econometrics (TraME)</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/modern-business.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Syntax Highlighter -->
    <script type="text/javascript" src="js/syntaxhighlighter.js"></script>
    <link type="text/css" rel="stylesheet" href="css/swift_theme.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://www.trame-project.com" style="color:white">TraME</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Versions<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="trame.html">C++</a>
                            </li>
                            <li>
                                <a href="trame_r.html">R</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <!-- Page Heading/Breadcrumbs -->
        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li><a href="http://www.trame-project.com">Home</a></li>
                    <li><a href="trame.html">TraME</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ARUMs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="trame_docs_arums.html">ARUMs</a></li>
                            <li class="divider"></li>
                            <li class="active"><a href="trame_docs_arums_empirical.html">Empirical</a></li>
                            <li><a href="trame_docs_arums_logit.html">Logit</a></li>
                            <li><a href="trame_docs_arums_none.html">None</a></li>
                            <li><a href="trame_docs_arums_probit.html">Probit</a></li>
                            <li><a href="trame_docs_arums_rsc.html">RSC</a></li>
                            <li><a href="trame_docs_arums_rusc.html">RUSC</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">MMFs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="trame_docs_mmfs.html">MMFs</a></li>
                            <li class="divider"></li>
                            <li><a href="trame_docs_mmfs_cd.html">CD</a></li>
                            <li><a href="trame_docs_mmfs_ces.html">CES</a></li>
                            <li><a href="trame_docs_mmfs_geo.html">Geo</a></li>
                            <li><a href="trame_docs_mmfs_min.html">Min</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Transfers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="trame_docs_transfers.html">Transfers</a></li>
                            <li class="divider"></li>
                            <li><a href="trame_docs_transfers_etu.html">ETU</a></li>
                            <li><a href="trame_docs_transfers_ltu.html">LTU</a></li>
                            <li><a href="trame_docs_transfers_ntu.html">NTU</a></li>
                            <li><a href="trame_docs_transfers_tu.html">TU</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Markets <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="trame_docs_markets.html">Markets</a></li>
                            <li class="divider"></li>
                            <li><a href="trame_docs_markets_dse.html">DSE</a></li>
                            <li><a href="trame_docs_markets_mfe.html">MFE</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Solvers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="trame_docs_solvers.html">Solvers</a></li>
                            <li class="divider"></li>
                            <li><a href="trame_docs_solvers_arc_newton.html">Arc Newton</a></li>
                            <li><a href="trame_docs_solvers_cupids_lp.html">Cupids LP</a></li>
                            <li><a href="trame_docs_solvers_darum.html">DA RUM</a></li>
                            <li><a href="trame_docs_solvers_eap_nash.html">EAP Nash</a></li>
                            <li><a href="trame_docs_solvers_ipfp.html">IPFP</a></li>
                            <li><a href="trame_docs_solvers_jacobi.html">Jacobi</a></li>
                            <li><a href="trame_docs_solvers_max_welfare.html">Max Welfare</a></li>
                            <li><a href="trame_docs_solvers_nodal_newton.html">Nodal Newton</a></li>
                            <li><a href="trame_docs_solvers_oap_lp.html">OAP LP</a></li>
                        </ul>
                    </li>
                    <li><a href="trame_docs_models.html">Models</a></li>
                </ol>
            </div>
        </div>
        <!-- /.row -->


<h3 style="text-align: center;"><strong style="font-size: 130%;">Additive Random Utility Models (ARUMs)</strong></h3>
<hr>

<p> &nbsp </p>

<h3 style="text-align: left;"><strong style="font-size: 120%;">Empirical Class</strong></h3>

<div class="row">
<div class="col-md-4">
    <div class="panel panel-default">
    <div class="panel-body">
        <a href="#CD">Class Definition</a> <br>
        <a href="#MO">Member Objects</a> <br>
        <a href="#MF">Member Functions</a> <br>
        <a href="#NTS">Notes</a> <br>
        <a href="#EX">Example</a> <br>
    </div>
    </div>
</div>
</div>

<hr>

<h3 style="text-align: left;" id="DL"><strong style="font-size: 120%;">Class Definition</strong></h3>

<p>Class Definition:</p>
<pre class="brush: cpp;"> 
class empirical
{
    public:
        // build objects
        int nbX;
        int nbY;

        int nbParams;
        int aux_nbDraws;
        int nbOptions;

        bool xHomogenous;
        bool outsideOption;

        arma::cube atoms;

        // input objects
        arma::mat U;
        arma::mat mu;

        // equilibrium objects
        arma::mat U_sol;
        arma::mat mu_sol;

        // member functions
        ~empirical(){};
         empirical(){};
        explicit empirical(int nbX_inp, int nbY_inp);
        explicit empirical(int nbX_inp, int nbY_inp, const arma::cube& atoms_inp, bool xHomogenous_inp, bool outsideOption_inp);

        void build(int nbX_inp, int nbY_inp);
        void build(int nbX_inp, int nbY_inp, const arma::cube& atoms_inp, bool xHomogenous_inp, bool outsideOption_inp);

        double G(const arma::vec& n);
        double G(const arma::vec& n, const arma::mat& U_inp, arma::mat& mu_out);
        double Gx(const arma::mat& U_x_inp, arma::mat& mu_x_out, int x);

        double Gstar(const arma::vec& n);
        double Gstar(const arma::vec& n, const arma::mat& mu_inp, arma::mat& U_out);
        double Gstarx(const arma::mat& mu_x_inp, arma::mat &U_x_out, int x);

        double Gbar(const arma::mat& Ubar, const arma::mat& mubar, const arma::vec& n, arma::mat& U_out, arma::mat& mu_out);
        double Gbarx(const arma::vec& Ubar_x, const arma::vec& mubar_x, arma::mat& U_x_out, arma::mat& mu_x_out, int x);

    private:
        /*
         * these private member objects are mostly used by LP solvers
         */
        void presolve_LP_Gstar();
        void presolve_LP_Gbar();

        bool TRAME_PRESOLVED_GSTAR = false;
        bool TRAME_PRESOLVED_GBAR  = false;

        int k_Gstar;
        int n_Gstar;
        int numnz_Gstar;
        int* vind_Gstar;
        int* vbeg_Gstar;
        double* vval_Gstar;

        int k_Gbar;
        int n_Gbar;
        int numnz_Gbar;
        int* vind_Gbar;
        int* vbeg_Gbar;
        double* vval_Gbar;
};</pre>

<hr>

<h3 style="text-align: left;" id="MO"><strong style="font-size: 120%;">Member Objects</strong></h3>

<hr>

<h3 style="text-align: left;" id="MF"><strong style="font-size: 120%;">Member Functions</strong></h3>

<hr>

<h3 style="text-align: left;" id="NTS"><strong style="font-size: 120%;">Notes</strong></h3>

<hr>

<h3 style="text-align: left;" id="EX"><strong style="font-size: 120%;">Examples</strong></h3>



    <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; TraME Group 2017</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
